<div class="animated fadeIn create-bulletin">
  <!-- Sidebar -->
  <aside class="create-bulletin__sidebar">
    <!-- Date Switch -->
    <header class="create-bulletin__sidebar-header">
      <div class="create-bulletin__date">
        <h1 class="create-bulletin__current-date font-m-bold">
          {{ bulletinsService.getActiveDate() | localizedDate : "EEEE," }}<br />
          {{ bulletinsService.getActiveDate() | localizedDate : "d. MMMM y" }}
        </h1>
        <nav class="btn-group create-bulleting__days-nav">
          <button
            type="button"
            class="btn btn-icon btn-sm btn-bare--grey"
            (click)="loadBulletin(bulletinsService.getNextDate())"
            *ngIf="bulletinsService.getNextDate()"
          >
            <i class="ph-bold ph-caret-left"></i>
          </button>
          <button
            type="button"
            class="btn btn-icon btn-sm btn-bare--grey"
            (click)="loadBulletin(bulletinsService.getPreviousDate())"
            *ngIf="bulletinsService.getPreviousDate()"
          >
            <i class="ph-bold ph-caret-right"></i>
          </button>
        </nav>
      </div>
      <!-- End Date Switch -->

      <!-- Status -->
      <div class="create-bulletin__status">
        <h2
          (click)="showStatusOfAllRegions = !showStatusOfAllRegions"
          class="create-bulletin__status-title font-xs text-secondary"
        >
          <span>{{ "bulletins.create.statusHeader" | translate }}</span>
          <i class="icon-md ph-bold ph-caret-up-down"></i>
        </h2>

        <div *ngIf="!showStatusOfAllRegions">
          <span
            *ngIf="
              getActiveRegionStatus(bulletinsService.getActiveDate()) === bulletinStatus.missing ||
              getActiveRegionStatus(bulletinsService.getActiveDate()) === undefined
            "
            class="badge bg-danger"
            ><i class="ph-bold icon-sm ph-x"></i> {{ "bulletins.table.status.missing" | translate }}</span
          >
          <span
            *ngIf="getActiveRegionStatus(bulletinsService.getActiveDate()) === bulletinStatus.draft"
            class="badge bg-warning"
            ><i class="ph-bold icon-sm ph-file-dashed"></i> {{ "bulletins.table.status.draft" | translate }}</span
          >
          <span
            *ngIf="getActiveRegionStatus(bulletinsService.getActiveDate()) === bulletinStatus.submitted"
            class="badge bg-primary"
            ><i class="ph-bold icon-sm ph-newspaper"></i> {{ "bulletins.table.status.submitted" | translate }}</span
          >
          <span
            *ngIf="getActiveRegionStatus(bulletinsService.getActiveDate()) === bulletinStatus.published"
            class="badge bg-success"
            ><i class="ph-bold icon-sm ph-newspaper"></i> {{ "bulletins.table.status.published" | translate }}</span
          >
          <span
            *ngIf="getActiveRegionStatus(bulletinsService.getActiveDate()) === bulletinStatus.updated"
            class="badge bg-orange"
            ><i class="ph-bold icon-sm ph-file-dashed"></i> {{ "bulletins.table.status.updated" | translate }}</span
          >
          <span
            *ngIf="getActiveRegionStatus(bulletinsService.getActiveDate()) === bulletinStatus.resubmitted"
            class="badge bg-primary"
            ><i class="ph-bold icon-sm ph-newspaper"></i> {{ "bulletins.table.status.resubmitted" | translate }}</span
          >
          <span
            *ngIf="getActiveRegionStatus(bulletinsService.getActiveDate()) === bulletinStatus.republished"
            class="badge bg-success"
            ><i class="ph-bold icon-sm ph-newspaper"></i> {{ "bulletins.table.status.republished" | translate }}</span
          >
        </div>
      </div>
      <!-- End status-->

      <!-- Status of all regions -->
      <ul *ngIf="showStatusOfAllRegions" class="create-bulletin__bulletin-status">
        <li>
          <h5 class="bulletin-status__region-name font-xs text-secondary">
            {{ regionsService.getRegionName(authenticationService.getActiveRegionId()) }}
          </h5>
          <span
            *ngIf="
              getActiveRegionStatus(bulletinsService.getActiveDate()) === bulletinStatus.missing ||
              getActiveRegionStatus(bulletinsService.getActiveDate()) === undefined
            "
            class="badge bg-danger"
            ><i class="ph-bold ph-x"></i> {{ "bulletins.table.status.missing" | translate }}</span
          >
          <span
            *ngIf="getActiveRegionStatus(bulletinsService.getActiveDate()) === bulletinStatus.draft"
            class="badge bg-warning"
            ><i class="ph-bold ph-file-dashed"></i> {{ "bulletins.table.status.draft" | translate }}</span
          >
          <span
            *ngIf="getActiveRegionStatus(bulletinsService.getActiveDate()) === bulletinStatus.submitted"
            class="badge bg-primary"
            ><i class="ph-bold ph-newspaper"></i> {{ "bulletins.table.status.submitted" | translate }}</span
          >
          <span
            *ngIf="getActiveRegionStatus(bulletinsService.getActiveDate()) === bulletinStatus.published"
            class="badge bg-success"
            ><i class="ph-bold ph-newspaper"></i> {{ "bulletins.table.status.published" | translate }}</span
          >
          <span
            *ngIf="getActiveRegionStatus(bulletinsService.getActiveDate()) === bulletinStatus.updated"
            class="badge bg-orange"
            ><i class="ph-bold ph-file-dashed"></i> {{ "bulletins.table.status.updated" | translate }}</span
          >
          <span
            *ngIf="getActiveRegionStatus(bulletinsService.getActiveDate()) === bulletinStatus.resubmitted"
            class="badge bg-primary"
            ><i class="ph-bold ph-newspaper"></i> {{ "bulletins.table.status.resubmitted" | translate }}</span
          >
          <span
            *ngIf="getActiveRegionStatus(bulletinsService.getActiveDate()) === bulletinStatus.republished"
            class="badge bg-success"
            ><i class="ph-bold ph-newspaper"></i> {{ "bulletins.table.status.republished" | translate }}</span
          >
        </li>
        <li *ngFor="let region of authenticationService.getActiveRegion().neighborRegions">
          <h5 class="bulletin-status__region-name font-xs text-secondary">
            {{ regionsService.getRegionName(region) }}
          </h5>
          <span
            *ngIf="
              getRegionStatus(region, bulletinsService.getActiveDate()) === bulletinStatus.missing ||
              getRegionStatus(region, bulletinsService.getActiveDate()) === undefined
            "
            class="badge bg-danger"
            ><i class="ph-bold icon-sm ph-x"></i> {{ "bulletins.table.status.missing" | translate }}</span
          >
          <span
            *ngIf="getRegionStatus(region, bulletinsService.getActiveDate()) === bulletinStatus.draft"
            class="badge bg-warning"
            ><i class="ph-bold icon-sm ph-file-dashed"></i> {{ "bulletins.table.status.draft" | translate }}</span
          >
          <span
            *ngIf="getRegionStatus(region, bulletinsService.getActiveDate()) === bulletinStatus.submitted"
            class="badge bg-primary"
            ><i class="ph-bold icon-sm ph-newspaper"></i> {{ "bulletins.table.status.submitted" | translate }}</span
          >
          <span
            *ngIf="getRegionStatus(region, bulletinsService.getActiveDate()) === bulletinStatus.published"
            class="badge bg-success"
            ><i class="ph-bold icon-sm ph-newspaper"></i> {{ "bulletins.table.status.published" | translate }}</span
          >
          <span
            *ngIf="getRegionStatus(region, bulletinsService.getActiveDate()) === bulletinStatus.updated"
            class="badge bg-orange"
            ><i class="ph-bold icon-sm ph-file-dashed"></i> {{ "bulletins.table.status.updated" | translate }}</span
          >
          <span
            *ngIf="getRegionStatus(region, bulletinsService.getActiveDate()) === bulletinStatus.resubmitted"
            class="badge bg-primary"
            ><i class="ph-bold icon-sm ph-newspaper"></i> {{ "bulletins.table.status.resubmitted" | translate }}</span
          >
          <span
            *ngIf="getRegionStatus(region, bulletinsService.getActiveDate()) === bulletinStatus.republished"
            class="badge bg-success"
            ><i class="ph-bold icon-sm ph-newspaper"></i> {{ "bulletins.table.status.republished" | translate }}</span
          >
        </li>
      </ul>
      <!-- End status of all regions-->

      <span class="create-bulletin__bulletin-info" *ngIf="showPublicationHappensAt5PM(bulletinsService.getActiveDate())"><i class="ph ph-info"></i> {{ "bulletins.status.submittedInfo" | translate }}</span>
      <span class="create-bulletin__bulletin-info" *ngIf="showPublicationHappensAt8AM(bulletinsService.getActiveDate())"><i class="ph ph-info"></i> {{ "bulletins.status.resubmittedInfo" | translate }}</span>
      <span class="create-bulletin__bulletin-info" *ngIf="showPublicationHappened(bulletinsService.getActiveDate())"><i class="ph ph-info"></i> {{ "bulletins.status.publishedInfo" | translate }}</span>
      <span class="create-bulletin__bulletin-info" *ngIf="showNoPublicationWillHappen(bulletinsService.getActiveDate())"><i class="ph ph-info"></i> {{ "bulletins.status.noPublicationInfo" | translate }}</span>
      <span class="create-bulletin__bulletin-info" *ngIf="loadingPreview"><i class="ph ph-circle-notch"></i> {{ "bulletins.status.loadingPreview" | translate }}</span>
      <span class="create-bulletin__bulletin-info" *ngIf="loading"><i class="ph ph-circle-notch"></i> {{ "bulletins.status.loading" | translate }}</span>

      <!-- submit -->
      <button *ngIf="showSubmitButton(bulletinsService.getActiveDate())" type="button" class="btn btn-outline-primary btn-sm create-bulletin__action-buttons" (click)="submit($event, bulletinsService.getActiveDate())">
        <i class="ph ph-paper-plane-tilt"></i>
        <span>{{ 'bulletins.tooltip.submit' | translate }}</span>
      </button>

      <!-- update -->
      <button *ngIf="showUpdateButton(bulletinsService.getActiveDate())" type="button" class="btn btn-outline-primary btn-sm create-bulletin__action-buttons" (click)="createUpdate($event)">
        <i class="ph ph-pencil"></i>
        <span>{{ 'bulletins.tooltip.update' | translate }}</span>
      </button>

      <!-- publish update (not 5PM nor 8AM) -->
      <button *ngIf="showPublishButton(bulletinsService.getActiveDate())" type="button" class="btn btn-outline-primary btn-sm create-bulletin__action-buttons flex-grow-1" (click)="publish($event, bulletinsService.getActiveDate())">
          <i class="ph ph-paper-plane-tilt"></i>
          <span>{{ 'bulletins.tooltip.publishUpdate' | translate }}</span>
      </button>
  
      <!-- publish change (not 5PM nor 8AM, no messages) -->
      <button *ngIf="showPublishButton(bulletinsService.getActiveDate())" type="button" class="btn btn-outline-primary btn-sm create-bulletin__action-buttons flex-grow-1" (click)="publish($event, bulletinsService.getActiveDate(), true)">
        <i class="ph ph-paper-plane-tilt"></i>
        <span>{{ 'bulletins.tooltip.publishChange' | translate }}</span>
      </button>

      <!-- check -->
      <button *ngIf="showCheckButton(bulletinsService.getActiveDate())" type="button" class="btn btn-outline-primary btn-sm create-bulletin__action-buttons flex-grow-1" (click)="check($event, bulletinsService.getActiveDate())">
        <i class="ph ph-check"></i>
        <span>{{ 'bulletins.tooltip.check' | translate }}</span>
      </button>

      <!-- spinning icon -->
      <button *ngIf="showSpinningIconButton(bulletinsService.getActiveDate())" type="button" class="btn btn-outline-primary btn-sm create-bulletin__action-buttons--small ml-2">
          <i class="ph ph-circle-notch"></i>
      </button>

    </header>
    <!-- End sidebar header -->

    <!-- List of regions -->
    <div class="create-bulletin__regions">
      <!-- Own regions -->
      <header class="create-bulletin__region-divider">
        <h5 class="font-s-medium">
          {{ "bulletins.table.title.status." + authenticationService.getActiveRegion().id | translate }}
        </h5>
        <div class="btn-group region-divider__actions">
          <div class="region-divider__actions-dropdown mr-1" bsDropdown>
              <button
                  class="btn btn-sm btn-icon btn-bare--grey"
                  type="button"
                  bsDropdownToggle
              >
                  <i class="ph-bold ph-dots-three-circle"></i>
              </button>
      
              <ul *bsDropdownMenu class="dropdown-menu create-bulletin__region-dropdown">

                <!-- load bulletin from yesterday -->
                <li>
                  <button
                    *ngIf="bulletinsService.getIsEditable()"
                    [disabled]="editRegions || loading"
                    type="reset"
                    class="dropdown-item"
                    (click)="loadBulletinsFromYesterday()"
                    data-toggle="tooltip"
                    title="{{ 'bulletins.create.tooltip.loadBulletin' | translate }}"
                  >
                    <i class="ph-bold ph-copy icon-md"></i>
                    {{ "bulletins.create.tooltip.loadBulletin" | translate }}
                  </button>
                </li>

                <!-- preview -->
                <li>
                  <button
                    *ngIf="showPreviewButton()"
                    [disabled]="editRegions || loading"
                    type="reset"
                    class="dropdown-item"
                    (click)="preview()"
                    data-toggle="tooltip"
                    title="{{ 'bulletins.tooltip.preview' | translate }}"
                  >
                    <i class="ph-bold ph-eye icon-md"></i>
                    {{ "bulletins.tooltip.preview" | translate }}
                  </button>
                </li>

                <!-- media file -->
                <li>
                  <button
                    *ngIf="showMediaFileButton(date)"
                    [disabled]="editRegions || loading"
                    type="reset"
                    class="dropdown-item"
                    (click)="openMediaFileDialog($event, date)"
                    data-toggle="tooltip"
                    title="{{ 'bulletins.tooltip.mediaFile' | translate }}"
                  >
                    <i class="ph-bold ph-microphone icon-md"></i>
                    {{ "bulletins.tooltip.mediaFile" | translate }}
                  </button>
                </li>

                <li>
                  <hr class="dropdown-divider" />
                </li>
  
                <!-- upload json -->
                <li>
                  <button
                    *ngIf="bulletinsService.getIsEditable()"
                    [disabled]="editRegions || loading"
                    type="button"
                    class="dropdown-item"
                    (click)="jsonBulletinUploader.click()"
                    data-toggle="tooltip"
                    title="{{ 'bulletins.create.tooltip.uploadJsonBulletin' | translate }}"
                  >
                    <i class="ph-bold ph-upload-simple icon-md"></i>
                    {{ "bulletins.create.tooltip.uploadJsonBulletin" | translate }}
                  </button>
                  <input hidden type="file" accept=".json" #jsonBulletinUploader (change)="uploadJsonBulletin($event)" />
                </li>
  
                <!-- download json -->
                <li>
                  <button
                    [disabled]="editRegions || loading"
                    type="button"
                    class="dropdown-item"
                    (click)="downloadJsonBulletin()"
                    data-toggle="tooltip"
                    title="{{ 'bulletins.create.tooltip.downloadJsonBulletin' | translate }}"
                  >
                    <i class="ph-bold ph-download-simple icon-md"></i>
                    {{ "bulletins.create.tooltip.downloadJsonBulletin" | translate }}
                  </button>
                </li>

                <li>
                  <hr class="dropdown-divider" />
                </li>
  
                <!-- info -->
                <li>
                  <button
                    *ngIf="showInfoButton(date)"
                    [disabled]="editRegions || loading"
                    type="button"
                    class="dropdown-item"
                    (click)="showPublicationInfo($event, date)"
                    data-toggle="tooltip"
                    title="{{ 'bulletins.tooltip.info' | translate }}"
                  >
                    <i class="ph-bold ph-info icon-md"></i>
                    {{ "bulletins.tooltip.info" | translate }}
                  </button>
                  <input hidden type="file" accept=".json" #jsonBulletinUploader (change)="uploadJsonBulletin($event)" />
                </li>
  
                <!-- publish all -->
                <li>
                  <button
                    *ngIf="showPublishAllButton(date)"
                    [disabled]="editRegions || loading"
                    type="button"
                    class="dropdown-item"
                    (click)="publishAll($event, date)"
                    data-toggle="tooltip"
                    title="{{ 'bulletins.tooltip.publishAll' | translate }}"
                  >
                    <i class="ph-bold ph-warning icon-md"></i>
                    {{ "bulletins.tooltip.publishAll" | translate }}
                  </button>
                </li>

              </ul>
          </div>
          <button
              [disabled]="editRegions || loading"
              *ngIf="bulletinsService.getIsEditable() && !this.copyService.isCopyBulletin()"
              (click)="createBulletin(false)"
              class="btn btn-sm btn-icon btn-primary"
              type="button"
              title="{{ 'bulletins.create.createAggregatedRegion' | translate }}"
          >
              <i class="ph-bold ph-plus"></i>
          </button>
        </div>
      </header>
      <!-- End own regions header -->
      <!-- List of own regions -->
      <nav class="create-bulletin__region-list">
        <!-- Show the list of bulletins if there are any -->
        <ng-container *ngIf="getOwnBulletins().length; else noBulletinsTemplate">
            <ng-container *ngFor="let bulletin of getOwnBulletins()">
                <ng-container *ngTemplateOutlet="bulletinTemplate; context: { bulletin: bulletin }"></ng-container>
            </ng-container>
        </ng-container>
      </nav>
    
    </div>

    <div class="create-bulletin__regions">
      <!-- Foreign regions -->
      <header class="create-bulletin__region-divider">
        <h5 class="font-s-medium">
          {{ "bulletins.create.foreignRegions" | translate }}
        </h5>
        <div class="btn-group region-divider__actions">
          <div class="region-divider__actions-dropdown mr-1">
              <button
                  class="btn btn-sm btn-icon btn-bare--grey"
                  type="button"
                  (click)="toggleShowForeignRegions()"
              >
                  <i *ngIf="!showForeignRegions" class="ph-bold ph-caret-right"></i>
                  <i *ngIf="showForeignRegions" class="ph-bold ph-caret-down"></i>
              </button>
          </div>
        </div>
      </header>
      <!-- List of foreign regions -->
      <nav *ngIf="showForeignRegions" class="create-bulletin__region-list">
        <ng-container *ngFor="let bulletin of getForeignBulletins()">
          <ng-container *ngTemplateOutlet="bulletinTemplate; context: { bulletin: bulletin }"></ng-container>
        </ng-container>
      </nav>
    </div>

    <div *ngIf="hasExternalRegions" class="create-bulletin__regions">
      <!-- External regions -->
      <header class="create-bulletin__region-divider">
        <h5 class="font-s-medium">
          {{ "bulletins.create.externalRegions" | translate }}
        </h5>
        <div class="btn-group region-divider__actions">
          <div class="region-divider__actions-dropdown mr-1">
              <button
                  class="btn btn-sm btn-icon btn-bare--grey"
                  type="button"
                  (click)="toggleShowExternalRegions()"
              >
                  <i *ngIf="!showExternalRegions" class="ph-bold ph-caret-right"></i>
                  <i *ngIf="showExternalRegions" class="ph-bold ph-caret-down"></i>
              </button>
          </div>
        </div>
      </header>
      <!-- List of external regions -->
      <nav *ngIf="showExternalRegions" class="create-bulletin__region-list">
        <ng-container *ngFor="let bulletin of getExternalBulletins()">
          <ng-container *ngTemplateOutlet="bulletinTemplate; context: { bulletin: bulletin }"></ng-container>
        </ng-container>
      </nav>
    </div>
    <!-- End list of regions -->
  </aside>
  <!-- End Sidebar -->


  <div class="create-bulletin__default-layout" [ngClass]="{ 'create-bulletin__compact-layout': (activeBulletin !== undefined && !editRegions && isCompactMapLayout) }">
    <!-- Form -->
    <div *ngIf="activeBulletin && !showNewBulletinModal" class="create-bulletin__region-form">
      <header class="region-form__header"> 
        <div class="region-form__header-actions btn-group" dropdown>
          <button
            dropdownToggle
            class="btn btn-bare btn-sm btn-icon btn-bare--grey"
            type="button"
            aria-controls="dropdownMenu"
          >
            <i class="ph-bold ph-dots-three"></i>
          </button>
          <ul id="dropdownMenu" *dropdownMenu class="dropdown-menu dropdown-menu-end">
            <li *ngIf="isCompactMapLayout">
                <button class="dropdown-item" (click)="setMapLayout(activeBulletin, false)">
                    <i class="ph icon-md ph-square-split-horizontal"></i> {{ 'bulletins.create.mapLeft' | translate }}
                </button>
            </li>
            <li *ngIf="!isCompactMapLayout">
                <button class="dropdown-item" (click)="setMapLayout(activeBulletin, true)">
                    <i class="ph icon-md ph-square-split-vertical"></i> {{ 'bulletins.create.mapTop' | translate }}
                </button>
            </li>
          </ul>
          <button (click)="deselectBulletin()" class="btn btn-bare btn-sm btn-icon btn-bare--grey">
            <i class="ph-bold ph-x"></i>
          </button>
        </div>
        <div class="region-form__title">
          <h6 class="font-xs text-secondary">{{ regionsService.getRegionName(activeBulletin.getOwnerRegion()) }}</h6>
          <h2 class="font-l">
            {{ regionsService.getRegionName(activeBulletin.savedRegions[0]) }}
            <span *ngIf="activeBulletin.savedRegions.length > 1"> + {{ activeBulletin.savedRegions.length - 1 }} </span>
          </h2>

          <div class="user-avatar region-form__author">
            <span class="user-avatar__name">{{ activeBulletin.getAuthor().getName() }}</span>
          </div>
        </div>
      </header>
      <div *ngIf="!showPublicationHappened(bulletinsService.getActiveDate()) && !bulletinsService.isLocked(activeBulletin.getId()) && !this.authenticationService.isExternalRegion(activeBulletin.getOwnerRegion().toString())" class="region-form__banner banner banner-info">
        <p class="banner__text">
          <i class="ph ph-pencil-line"></i>
          {{ "bulletins.create.regionEditable" | translate }}
        </p>
        <div class="btn-group banner__actions">
          <button *ngIf="bulletinsService.getIsEditable() && !editRegions && !hasSuggestions(activeBulletin)" (click)="editBulletin($event, activeBulletin)" data-toggle="tooltip" title="{{ 'bulletins.create.tooltip.edit' | translate }}" type="button" class="btn btn-sm btn-icon btn-outline-primary">
            <i class="ph ph-map-trifold"></i>
          </button>
          <button *ngIf="!hasSuggestions(activeBulletin) && !copyService.isCopyBulletin()" (click)="openCopyRegionModal(copyRegionTemplate, activeBulletin)" data-toggle="tooltip" title="{{ 'bulletins.create.tooltip.copy' | translate }}" type="button" class="btn btn-sm btn-icon btn-outline-primary"><i class="ph ph-copy"></i></button>
          <button *ngIf="bulletinsService.getIsEditable() && !editRegions && !hasSuggestions(activeBulletin) && isCreator(activeBulletin)" (click)="deleteBulletin($event, activeBulletin)"  data-toggle="tooltip" title="{{ 'bulletins.create.tooltip.delete' | translate }}" type="button" class="btn btn-sm btn-icon btn-outline-primary"><i class="ph ph-trash"></i></button>
        </div>
      </div>

      <div *ngIf="!showPublicationHappened(bulletinsService.getActiveDate()) && bulletinsService.isLocked(activeBulletin.getId())" class="region-form__banner banner banner-warning">
        <p class="banner__text">
          <i class="ph ph-pencil-slash"></i>
          {{ "bulletins.create.regionLocked" | translate }}
        </p>
        <div class="btn-group banner__actions">
          <button type="button" class="btn btn-sm btn-dark"><i class="ph ph-pencil-line"></i> <span>{{ "bulletins.create.edit" | translate }}</span></button>
        </div>
      </div>

      <div
        *ngIf="!showPublicationHappened(bulletinsService.getActiveDate()) && bulletinsService.getIsEditable() && hasSuggestions(activeBulletin) && !editRegions"
        class="region-form__banner banner banner-warning-strong"
      >
        <p class="banner__text">
          <i class="ph ph-lightbulb"></i>
          {{ "bulletins.create.pendingSuggestions" | translate }}
        </p>
        <div class="btn-group banner__actions">
          <button (click)="rejectSuggestions($event, activeBulletin)" type="button" class="btn btn-sm btn-outline-dark">
            <i class="ph ph-x"></i> <span>{{ "bulletins.create.rejectSuggestion" | translate }}</span>
          </button>
          <button (click)="acceptSuggestions($event, activeBulletin)" type="button" class="btn btn-sm btn-dark">
            <i class="ph ph-check"></i><span>{{ "bulletins.create.acceptSuggestion" | translate }}</span>
          </button>
        </div>
      </div>

      <div
        *ngIf="showPublicationHappened(bulletinsService.getActiveDate())"
        class="region-form__banner banner banner-warning"
      >
        <p class="banner__text">
          <i class="ph ph-warning"></i> 
          {{ "bulletins.create.regionLockedPublished" | translate }}
        </p>
      </div>

      <main class="region-form__content">
        <accordion class="accordion">
          <!-- Avalanche problems -->
          <accordion-group
            class="accordion-group"
            [isOpen]="isAccordionAvalancheProblemOpen"
            (isOpenChange)="accordionChanged($event, 'avalancheProblem')"
          >
            <div accordion-heading class="accordion-header accordion-header--with-buttons">
              <h2 class="accordion-header__title">
                <i *ngIf="!isAccordionAvalancheProblemOpen" class="accordion__arrow ph ph-caret-right"></i>
                <i *ngIf="isAccordionAvalancheProblemOpen" class="accordion__arrow ph ph-caret-down"></i>
                {{ "bulletins.create.title.avalancheProblem" | translate
                }}<span *ngIf="activeBulletin.hasDaytimeDependency"
                  >&nbsp;{{ "bulletins.create.title.forenoon" | translate }}</span
                >
              </h2>

              <div class="btn-group accordion-header__buttons">
                <div
                  [disabled]="isDisabled()"
                  class="form-check"
                  title="{{ 'bulletins.create.tooltip.daytimeDependency' | translate }}"
                  (click)="
                    daytimeDependencyChanged($event, !activeBulletin.hasDaytimeDependency); $event.stopPropagation()
                  "
                >
                  <input
                    [disabled]="isDisabled()"
                    class="form-check-input"
                    type="checkbox"
                    (click)="daytimeDependencyChanged($event, !activeBulletin.hasDaytimeDependency); $event.stopPropagation()"
                    [ngModel]="activeBulletin.hasDaytimeDependency"
                    id="daytimeDependency"
                  />
                  <label class="form-label" for="daytimeDependency"> AM/PM </label>
                </div>

                <button
                  [disabled]="editRegions || loading || hasFiveAvalancheProblems(false)"
                  *ngIf="!isDisabled()"
                  (click)="createAvalancheProblem(false); $event.stopPropagation()"
                  class="btn btn-primary btn-icon btn-sm ml-2"
                  title="{{ 'bulletins.create.createAvalancheProblem' | translate }}"
                >
                  <i class="ph ph-plus"></i>
                </button>
              </div>
            </div>
            <!-- Avalanche problems panel content -->
            <app-avalanche-problem
              [bulletinModel]="activeBulletin"
              [bulletinDaytimeDescription]="activeBulletin.forenoon"
              [afternoon]="false"
              [disabled]="isDisabled()"
            ></app-avalanche-problem>
            <!-- End Avalanche problems panel content -->
          </accordion-group>
          <accordion-group
            *ngIf="activeBulletin.hasDaytimeDependency"
            #accordionAvalancheProblemAfternoon
            class="accordion-group"
          >
            <div accordion-heading class="accordion-header accordion-header--with-buttons">
              <h2 class="accordion-header__title">
                <i *ngIf="accordionAvalancheProblemAfternoon.isOpen" class="accordion__arrow ph ph-caret-down"></i>
                <i *ngIf="!accordionAvalancheProblemAfternoon.isOpen" class="accordion__arrow ph ph-caret-right"></i>
                <span
                  >{{ "bulletins.create.title.avalancheProblem" | translate }}
                  {{ "bulletins.create.title.afternoon" | translate }}</span
                >
              </h2>

              <div class="btn-group accordion-header__buttons">
                <button
                  [disabled]="editRegions || loading || hasFiveAvalancheProblems(false) || !isCreator(activeBulletin)"
                  *ngIf="isDisabled()"
                  (click)="createAvalancheProblem(true); $event.stopPropagation()"
                  class="btn btn-primary btn-icon btn-sm"
                  title="{{ 'bulletins.create.createAvalancheProblem' | translate }}"
                >
                  <i class="ph ph-plus"></i>
                </button>
              </div>
            </div>
            <app-avalanche-problem
              [bulletinModel]="activeBulletin"
              [bulletinDaytimeDescription]="activeBulletin.afternoon"
              [afternoon]="true"
              [disabled]="isDisabled()"
            ></app-avalanche-problem>
          </accordion-group>
          <!-- End avalanche problems -->

          <!-- Danger description -->
          <accordion-group
            [isOpen]="isAccordionDangerDescriptionOpen"
            (isOpenChange)="accordionChanged($event, 'dangerDescription')"
          >
            <div accordion-heading class="accordion-header">
              <h2 class="accordion-header__title">
                <i *ngIf="!isAccordionDangerDescriptionOpen" class="accordion__arrow ph ph-caret-right"></i>
                <i *ngIf="isAccordionDangerDescriptionOpen" class="accordion__arrow ph ph-caret-down"></i>
                <span>
                  {{ "bulletins.create.title.dangerDescription" | translate }}
                </span>
              </h2>
            </div>
            <!-- Danger description panel content -->
            <div
              id="region-form-danger-description"
              class="accordion-collapse -collapse show"
              data-bs-parent="#region-form-accordion"
            >
              <!-- Special alert -->
              <div class="from-group">
                <label class="form-label" for="text-input">
                  {{ "bulletins.create.label.highlights" | translate }}
                </label>
                <div class="form-field-with-toolbar">
                  <div class="btn-group--border form-field-toolbar">
                    <button
                      [disabled]="
                        isDisabled()
                      "
                      type="reset"
                      class="btn btn-sm btn-icon btn-bare"
                      data-toggle="tooltip"
                      title="{{ 'bulletins.create.tooltip.textcat.edit' | translate }}"
                      (click)="
                        openTextcat(
                          $event,
                          'activeHighlights',
                          this.settingsService.getLangString(),
                          this.activeHighlightsTextcat
                        )
                      "
                    >
                      <i class="ph ph-book-bookmark"></i>
                    </button>
                    <button
                      *ngIf="!copyService.isCopyTextcat()"
                      [disabled]="loading || editRegions"
                      type="reset"
                      class="btn btn-sm btn-icon btn-bare"
                      data-toggle="tooltip"
                      title="{{ 'bulletins.create.tooltip.textcat.copy' | translate }}"
                      (click)="copyTextcat($event, 'highlights')"
                    >
                      <i class="ph ph-copy"></i>
                    </button>
                    <button
                      *ngIf="copyService.isCopyTextcat()"
                      [disabled]="
                        isDisabled()
                      "
                      type="reset"
                      class="btn btn-sm btn-icon btn-bare"
                      data-toggle="tooltip"
                      title="{{ 'bulletins.create.tooltip.textcat.paste' | translate }}"
                      (click)="pasteTextcat($event, 'highlights')"
                    >
                      <i class="ph ph-clipboard-text"></i>
                    </button>
                    <button
                      [disabled]="
                        isDisabled()
                      "
                      type="reset"
                      class="btn btn-sm btn-icon btn-bare"
                      data-toggle="tooltip"
                      title="{{ 'bulletins.create.tooltip.textcat.delete' | translate }}"
                      (click)="deleteTextcat($event, 'highlights')"
                    >
                      <i class="ph ph-trash"></i>
                    </button>
                  </div>
                  <textarea
                    *ngIf="this.settingsService.getLangString() === 'de'"
                    id="textarea-input"
                    name="textarea-input"
                    rows="1"
                    class="form-control"
                    [disabled]="true"
                    [ngModel]="activeHighlightsDe | html"
                  ></textarea>
                  <textarea
                    *ngIf="this.settingsService.getLangString() === 'it'"
                    id="textarea-input"
                    name="textarea-input"
                    rows="1"
                    class="form-control"
                    [disabled]="true"
                    [ngModel]="activeHighlightsIt | html"
                  ></textarea>
                  <textarea
                    *ngIf="this.settingsService.getLangString() === 'en'"
                    id="textarea-input"
                    name="textarea-input"
                    rows="1"
                    class="form-control"
                    [disabled]="true"
                    [ngModel]="activeHighlightsEn | html"
                  ></textarea>
                  <textarea
                    *ngIf="this.settingsService.getLangString() === 'fr'"
                    id="textarea-input"
                    name="textarea-input"
                    rows="1"
                    class="form-control"
                    [disabled]="true"
                    [ngModel]="activeHighlightsFr | html"
                  ></textarea>
                  <textarea
                    *ngIf="this.settingsService.getLangString() === 'es'"
                    id="textarea-input"
                    name="textarea-input"
                    rows="1"
                    class="form-control"
                    [disabled]="true"
                    [ngModel]="activeHighlightsEs | html"
                  ></textarea>
                  <textarea
                    *ngIf="this.settingsService.getLangString() === 'ca'"
                    id="textarea-input"
                    name="textarea-input"
                    rows="1"
                    class="form-control"
                    [disabled]="true"
                    [ngModel]="activeHighlightsCa | html"
                  ></textarea>
                  <textarea
                    *ngIf="this.settingsService.getLangString() === 'oc'"
                    id="textarea-input"
                    name="textarea-input"
                    rows="1"
                    class="form-control"
                    [disabled]="true"
                    [ngModel]="activeHighlightsOc | html"
                  ></textarea>
                </div>

                <!-- Translations -->
                <button
                  class="btn btn-sm btn-bare region-form__translation-toggle"
                  *ngIf="showTranslationsHighlights"
                  type="button"
                  (click)="setShowTranslations('highlights')"
                >
                  <i class="ph ph-caret-down"></i>
                  <span>{{ "bulletins.create.title.hideTranslations" | translate }}</span>
                </button>
                <button
                  class="btn btn-sm btn-bare region-form__translation-toggle"
                  type="button"
                  *ngIf="!showTranslationsHighlights"
                  (click)="setShowTranslations('highlights')"
                >
                  <i class="ph ph-caret-right"></i>
                  <span>{{ "bulletins.create.title.showTranslations" | translate }}</span>
                </button>

                <div *ngIf="showTranslationsHighlights" class="region-form__translation-block">
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'de'"
                  >
                    <span class="input-group-text">DE</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="2"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeHighlightsDe | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'it'"
                  >
                    <span class="input-group-text">IT</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="2"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeHighlightsIt | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'en'"
                  >
                    <span class="input-group-text">EN</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="2"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeHighlightsEn | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'fr'"
                  >
                    <span class="input-group-text">FR</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="2"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeHighlightsFr | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'es'"
                  >
                    <span class="input-group-text">ES</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="2"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeHighlightsEs | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'ca'"
                  >
                    <span class="input-group-text">CA</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="2"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeHighlightsCa | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'oc'"
                  >
                    <span class="input-group-text">OC</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="2"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeHighlightsOc | html"
                    ></textarea>
                  </div>
                </div>
              </div>
              <!-- End Translations-->

              <!-- Danger situation headline -->
              <div class="form-group">
                <div class="row">
                  <div class="col-7">
                    <label class="form-label" for="text-input">
                      {{ "bulletins.create.label.avActivityHighlights" | translate }}
                    </label>
                    <div class="form-field-with-toolbar">
                      <!-- Toolbar -->
                      <div class="btn-group--border form-field-toolbar">
                        <button
                          class="btn btn-sm btn-icon btn-bare"
                          [disabled]="isDisabled()"
                          type="reset"
                          data-toggle="tooltip"
                          title="{{ 'bulletins.create.tooltip.textcat.edit' | translate }}"
                          (click)="
                            openTextcat(
                              $event,
                              'activeAvActivityHighlights',
                              this.settingsService.getLangString(),
                              this.activeAvActivityHighlightsTextcat
                            )
                          "
                        >
                          <i class="ph ph-book-bookmark"></i>
                        </button>
                        <button
                          class="btn btn-sm btn-icon btn-bare"
                          *ngIf="!copyService.isCopyTextcat()"
                          [disabled]="loading || editRegions"
                          type="reset"
                          data-toggle="tooltip"
                          title="{{ 'bulletins.create.tooltip.textcat.copy' | translate }}"
                          (click)="copyTextcat($event, 'avActivityHighlights')"
                        >
                          <i class="ph ph-copy"></i>
                        </button>
                        <button
                          class="btn btn-sm btn-icon btn-bare"
                          *ngIf="copyService.isCopyTextcat()"
                          [disabled]="isDisabled()"
                          type="reset"
                          data-toggle="tooltip"
                          title="{{ 'bulletins.create.tooltip.textcat.paste' | translate }}"
                          (click)="pasteTextcat($event, 'avActivityHighlights')"
                        >
                          <i class="ph ph-clipboard-text"></i>
                        </button>
                        <button
                          class="btn btn-sm btn-icon btn-bare"
                          [disabled]="isDisabled()"
                          type="reset"
                          data-toggle="tooltip"
                          title="{{ 'bulletins.create.tooltip.textcat.delete' | translate }}"
                          (click)="deleteTextcat($event, 'avActivityHighlights')"
                        >
                          <i class="ph ph-trash"></i>
                        </button>
                      </div>
                      <!-- End of toolbar -->
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'de'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeAvActivityHighlightsDe | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'it'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeAvActivityHighlightsIt | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'en'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeAvActivityHighlightsEn | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'fr'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeAvActivityHighlightsFr | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'es'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeAvActivityHighlightsEs | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'ca'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeAvActivityHighlightsCa | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'oc'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeAvActivityHighlightsOc | html"
                      ></textarea>
                    </div>
                  </div>
                  <div class="col-5">
                    <label class="form-label" for="text-input">{{ "bulletins.create.label.notes" | translate }} </label>
                    <textarea
                      rows="9"
                      class="form-control"
                      [disabled]="isDisabled()"
                      [(ngModel)]="activeAvActivityHighlightsNotes"
                      placeholder="{{ 'bulletins.create.placeholder.notes' | translate }}"
                    ></textarea>
                  </div>
                </div>

                <button
                  class="btn btn-sm btn-bare region-form__translation-toggle"
                  type="button"
                  *ngIf="showTranslationsAvActivityHighlights"
                  (click)="setShowTranslations('avActivityHighlights')"
                >
                  <i class="ph ph-caret-down"></i>
                  <span>{{ "bulletins.create.title.hideTranslations" | translate }}</span>
                </button>
                <button
                  class="btn btn-sm btn-bare region-form__translation-toggle"
                  type="button"
                  *ngIf="!showTranslationsAvActivityHighlights"
                  (click)="setShowTranslations('avActivityHighlights')"
                >
                  <i class="ph ph-caret-right"></i>
                  <span>{{ "bulletins.create.title.showTranslations" | translate }}</span>
                </button>

                <div *ngIf="showTranslationsAvActivityHighlights" class="region-form__translation-block">
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'de'"
                  >
                    <span class="input-group-text">DE</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeAvActivityHighlightsDe | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'it'"
                  >
                    <span class="input-group-text">IT</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeAvActivityHighlightsIt | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'en'"
                  >
                    <span class="input-group-text">EN</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeAvActivityHighlightsEn | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'fr'"
                  >
                    <span class="input-group-text">FR</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeAvActivityHighlightsFr | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'es'"
                  >
                    <span class="input-group-text">ES</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeAvActivityHighlightsEs | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'ca'"
                  >
                    <span class="input-group-text">CA</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeAvActivityHighlightsCa | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'oc'"
                  >
                    <span class="input-group-text">OC</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeAvActivityHighlightsOc | html"
                    ></textarea>
                  </div>
                </div>
              </div>

              <!-- Danger situation description -->
              <div class="form-group">
                <div class="row">
                  <div class="col-7">
                    <label class="form-label" for="text-input">
                      {{ "bulletins.create.label.avActivityComment" | translate }}
                    </label>
                    <div class="form-field-with-toolbar">
                      <div class="btn-group--border form-field-toolbar">
                        <button
                          class="btn btn-sm btn-icon btn-bare"
                          [disabled]="isDisabled()"
                          type="reset"
                          data-toggle="tooltip"
                          title="{{ 'bulletins.create.tooltip.textcat.edit' | translate }}"
                          (click)="
                            openTextcat(
                              $event,
                              'activeAvActivityComment',
                              this.settingsService.getLangString(),
                              activeAvActivityCommentTextcat
                            )
                          "
                        >
                          <i class="ph ph-book-bookmark"></i>
                        </button>
                        <button
                          class="btn btn-sm btn-icon btn-bare"
                          [disabled]="isDisabled()"
                          type="reset"
                          data-toggle="tooltip"
                          title="{{ 'bulletins.create.tooltip.textcat.example' | translate }}"
                          (click)="openLoadAvActivityCommentExampleTextModal(loadAvActivityCommentExampleTextTemplate)"
                        >
                          <i class="ph ph-article"></i>
                        </button>
                        <button
                          class="btn btn-sm btn-icon btn-bare"
                          *ngIf="!copyService.isCopyTextcat()"
                          [disabled]="loading || editRegions"
                          type="reset"
                          data-toggle="tooltip"
                          title="{{ 'bulletins.create.tooltip.textcat.copy' | translate }}"
                          (click)="copyTextcat($event, 'avActivityComment')"
                        >
                          <i class="ph ph-copy"></i>
                        </button>
                        <button
                          class="btn btn-sm btn-icon btn-bare"
                          *ngIf="copyService.isCopyTextcat()"
                          [disabled]="isDisabled()"
                          type="reset"
                          data-toggle="tooltip"
                          title="{{ 'bulletins.create.tooltip.textcat.paste' | translate }}"
                          (click)="pasteTextcat($event, 'avActivityComment')"
                        >
                          <i class="ph ph-clipboard-text"></i>
                        </button>
                        <button
                          class="btn btn-sm btn-icon btn-bare"
                          [disabled]="isDisabled()"
                          type="reset"
                          data-toggle="tooltip"
                          title="{{ 'bulletins.create.tooltip.textcat.delete' | translate }}"
                          (click)="deleteTextcat($event, 'avActivityComment')"
                        >
                          <i class="ph ph-trash"></i>
                        </button>
                      </div>

                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'de'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeAvActivityCommentDe | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'it'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeAvActivityCommentIt | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'en'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeAvActivityCommentEn | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'fr'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeAvActivityCommentFr | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'es'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeAvActivityCommentEs | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'ca'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeAvActivityCommentCa | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'oc'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeAvActivityCommentOc | html"
                      ></textarea>
                    </div>
                  </div>
                  <div class="col-5">
                    <label class="form-label" for="text-input">
                      {{ "bulletins.create.label.notes" | translate }}
                    </label>
                    <textarea
                      rows="9"
                      class="form-control"
                      [disabled]="isDisabled()"
                      [(ngModel)]="activeAvActivityCommentNotes"
                      placeholder="{{ 'bulletins.create.placeholder.notes' | translate }}"
                    ></textarea>
                  </div>
                </div>
                <!-- row -->

                <!-- Translations -->
                <button
                  class="btn btn-sm btn-bare region-form__translation-toggle"
                  type="button"
                  *ngIf="showTranslationsAvActivityComment"
                  (click)="setShowTranslations('avActivityComment')"
                >
                  <i class="ph ph-caret-down"></i>
                  <span>{{ "bulletins.create.title.hideTranslations" | translate }}</span>
                </button>

                <button
                  class="btn btn-sm btn-bare region-form__translation-toggle"
                  *ngIf="!showTranslationsAvActivityComment"
                  (click)="setShowTranslations('avActivityComment')"
                >
                  <i class="ph ph-caret-right"></i>
                  <span>{{ "bulletins.create.title.showTranslations" | translate }}</span>
                </button>

                <div *ngIf="showTranslationsAvActivityComment" class="region-form__translation-block">
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'de'"
                  >
                    <span class="input-group-text">DE</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeAvActivityCommentDe | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'it'"
                  >
                    <span class="input-group-text">IT</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeAvActivityCommentIt | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'en'"
                  >
                    <span class="input-group-text">EN</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeAvActivityCommentEn | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'fr'"
                  >
                    <span class="input-group-text">FR</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeAvActivityCommentFr | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'es'"
                  >
                    <span class="input-group-text">ES</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeAvActivityCommentEs | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'ca'"
                  >
                    <span class="input-group-text">CA</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeAvActivityCommentCa | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'oc'"
                  >
                    <span class="input-group-text">OC</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeAvActivityCommentOc | html"
                    ></textarea>
                  </div>
                </div>
                <!-- End of translations-->
              </div>
              <!-- End of danger situation description -->
            </div>
            <!-- End of danger description panel content -->
          </accordion-group>
          <!-- End danger description -->

          <!-- Snowpack structure -->
          <accordion-group
            [isOpen]="isAccordionSnowpackStructureOpen"
            (isOpenChange)="accordionChanged($event, 'snowpackStructure')"
          >
            <div accordion-heading class="accordion-header">
              <h2 class="accordion-header__title">
                <i *ngIf="!isAccordionSnowpackStructureOpen" class="accordion__arrow ph ph-caret-right"></i>
                <i *ngIf="isAccordionSnowpackStructureOpen" class="accordion__arrow ph ph-caret-down"></i>
                <span>
                  {{ "bulletins.create.title.snowpackStructure" | translate }}
                </span>
              </h2>
            </div>
            <!-- Snowpack structure panel content -->
            <div
              id="region-form-snowpack-structure"
              class="accordion-collapse -collapse show"
              data-bs-parent="#region-form-accordion"
            >
              <!-- Danger patterns -->
              <div class="form-group region-form__danger-patterns">
                <label class="form-label" for="">{{ "bulletins.create.label.dangerPatterns" | translate }}</label>
                <select
                  [(ngModel)]="activeBulletin.dangerPattern1"
                  [disabled]="isDisabled()"
                  class="form-select"
                >
                  <option selected></option>
                  <option value="dp1">{{ "dangerPattern.dp1" | translate }}</option>
                  <option value="dp2">{{ "dangerPattern.dp2" | translate }}</option>
                  <option value="dp3">{{ "dangerPattern.dp3" | translate }}</option>
                  <option value="dp4">{{ "dangerPattern.dp4" | translate }}</option>
                  <option value="dp5">{{ "dangerPattern.dp5" | translate }}</option>
                  <option value="dp6">{{ "dangerPattern.dp6" | translate }}</option>
                  <option value="dp7">{{ "dangerPattern.dp7" | translate }}</option>
                  <option value="dp8">{{ "dangerPattern.dp8" | translate }}</option>
                  <option value="dp9">{{ "dangerPattern.dp9" | translate }}</option>
                  <option value="dp10">{{ "dangerPattern.dp10" | translate }}</option>
                </select>

                <select
                  [(ngModel)]="activeBulletin.dangerPattern2"
                  [disabled]="isDisabled()"
                  class="form-select"
                >
                  <option selected></option>
                  <option value="dp1">{{ "dangerPattern.dp1" | translate }}</option>
                  <option value="dp2">{{ "dangerPattern.dp2" | translate }}</option>
                  <option value="dp3">{{ "dangerPattern.dp3" | translate }}</option>
                  <option value="dp4">{{ "dangerPattern.dp4" | translate }}</option>
                  <option value="dp5">{{ "dangerPattern.dp5" | translate }}</option>
                  <option value="dp6">{{ "dangerPattern.dp6" | translate }}</option>
                  <option value="dp7">{{ "dangerPattern.dp7" | translate }}</option>
                  <option value="dp8">{{ "dangerPattern.dp8" | translate }}</option>
                  <option value="dp9">{{ "dangerPattern.dp9" | translate }}</option>
                  <option value="dp10">{{ "dangerPattern.dp10" | translate }}</option>
                </select>
              </div>
              <!-- End of danger patterns -->

              <!-- Danger pattern description -->
              <div class="form-group">
                <div class="row">
                  <div class="col-md-8">
                    <label class="form-label" for="text-input">
                      {{ "bulletins.create.label.snowpackStructureComment" | translate }}
                    </label>
                    <div class="form-field-with-toolbar">
                      <div class="btn-group--border form-field-toolbar">
                        <button
                          class="btn btn-sm btn-icon btn-bare"
                          [disabled]="
                            isDisabled()
                          "
                          type="reset"
                          data-toggle="tooltip"
                          title="{{ 'bulletins.create.tooltip.textcat.edit' | translate }}"
                          (click)="
                            openTextcat(
                              $event,
                              'activeSnowpackStructureComment',
                              this.settingsService.getLangString(),
                              this.activeSnowpackStructureCommentTextcat
                            )
                          "
                        >
                          <i class="ph ph-book-bookmark"></i>
                        </button>
                        <button
                          class="btn btn-sm btn-icon btn-bare"
                          [disabled]="
                            isDisabled()
                          "
                          type="reset"
                          data-toggle="tooltip"
                          title="{{ 'bulletins.create.tooltip.textcat.example' | translate }}"
                          (click)="
                            openLoadSnowpackStructureCommentExampleTextModal(
                              loadSnowpackStructureCommentExampleTextTemplate
                            )
                          "
                        >
                          <i class="ph ph-article"></i>
                        </button>
                        <button
                          class="btn btn-sm btn-icon btn-bare"
                          *ngIf="!copyService.isCopyTextcat()"
                          [disabled]="loading || editRegions"
                          type="reset"
                          data-toggle="tooltip"
                          title="{{ 'bulletins.create.tooltip.textcat.copy' | translate }}"
                          (click)="copyTextcat($event, 'snowpackStructureComment')"
                        >
                          <i class="ph ph-copy"></i>
                        </button>
                        <button
                          class="btn btn-sm btn-icon btn-bare"
                          *ngIf="copyService.isCopyTextcat()"
                          [disabled]="
                            isDisabled()
                          "
                          type="reset"
                          data-toggle="tooltip"
                          title="{{ 'bulletins.create.tooltip.textcat.paste' | translate }}"
                          (click)="pasteTextcat($event, 'snowpackStructureComment')"
                        >
                          <i class="ph ph-clipboard-text"></i>
                        </button>
                        <button
                          class="btn btn-sm btn-icon btn-bare"
                          [disabled]="
                            isDisabled()
                          "
                          type="reset"
                          data-toggle="tooltip"
                          title="{{ 'bulletins.create.tooltip.textcat.delete' | translate }}"
                          (click)="deleteTextcat($event, 'snowpackStructureComment')"
                        >
                          <i class="ph ph-trash"></i>
                        </button>
                      </div>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'de'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeSnowpackStructureCommentDe | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'it'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeSnowpackStructureCommentIt | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'en'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeSnowpackStructureCommentEn | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'fr'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeSnowpackStructureCommentFr | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'es'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeSnowpackStructureCommentEs | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'ca'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeSnowpackStructureCommentCa | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'oc'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeSnowpackStructureCommentOc | html"
                      ></textarea>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <label class="form-label" for="text-input">
                      {{ "bulletins.create.label.notes" | translate }}
                    </label>
                    <textarea
                      rows="9"
                      class="form-control"
                      [disabled]="isDisabled()"
                      [(ngModel)]="activeSnowpackStructureCommentNotes"
                      placeholder="{{ 'bulletins.create.placeholder.notes' | translate }}"
                    ></textarea>
                  </div>
                </div>
                <!-- Translations -->
                <button
                  class="btn btn-sm btn-bare region-form__translation-toggle"
                  type="button"
                  *ngIf="showTranslationsSnowpackStructureComment"
                  (click)="setShowTranslations('snowpackStructureComment')"
                >
                  <i class="ph ph-caret-down"></i>
                  <span>{{ "bulletins.create.title.hideTranslations" | translate }}</span>
                </button>
                <button
                  class="btn btn-sm btn-bare region-form__translation-toggle"
                  type="button"
                  *ngIf="!showTranslationsSnowpackStructureComment"
                  (click)="setShowTranslations('snowpackStructureComment')"
                >
                  <i class="ph ph-caret-right"></i>
                  <span>{{ "bulletins.create.title.showTranslations" | translate }}</span>
                </button>
                <div *ngIf="showTranslationsSnowpackStructureComment" class="region-form__translation-block">
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'de'"
                    class="col-md-4"
                  >
                    <span class="input-group-text">DE</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeSnowpackStructureCommentDe | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'it'"
                    class="col-md-4"
                  >
                    <span class="input-group-text">IT</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeSnowpackStructureCommentIt | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'en'"
                    class="col-md-4"
                  >
                    <span class="input-group-text">FR</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeSnowpackStructureCommentEn | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'fr'"
                    class="col-md-4"
                  >
                    <span class="input-group-text">FR</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeSnowpackStructureCommentFr | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'es'"
                    class="col-md-4"
                  >
                    <span class="input-group-text">ES</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeSnowpackStructureCommentEs | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'ca'"
                    class="col-md-4"
                  >
                    <span class="input-group-text">CA</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeSnowpackStructureCommentCa | html"
                    ></textarea>
                  </div>
                  <div
                    class="input-group region-form__translation-item"
                    *ngIf="this.settingsService.getLangString() !== 'oc'"
                    class="col-md-4"
                  >
                    <span class="input-group-text">OC</span>
                    <textarea
                      id="textarea-input"
                      name="textarea-input"
                      rows="9"
                      class="form-control"
                      [disabled]="true"
                      [ngModel]="activeSnowpackStructureCommentOc | html"
                    ></textarea>
                  </div>
                </div>
              </div>
              <!-- End of danger pattern description -->
            </div>
            <!-- End of snowpack structure panel content-->
          </accordion-group>
          <!-- End Snowpack structure -->

          <!-- Tendency -->
          <accordion-group [isOpen]="isAccordionTendencyOpen" (isOpenChange)="accordionChanged($event, 'tendency')">
            <!-- Tendency -->
            <div accordion-heading class="accordion-header">
              <h2 class="accordion-header__title">
                <i *ngIf="!isAccordionTendencyOpen" class="accordion__arrow ph ph-caret-right"></i>
                <i *ngIf="isAccordionTendencyOpen" class="accordion__arrow ph ph-caret-down"></i>

                <span>
                  {{ "bulletins.create.title.tendency" | translate }}
                </span>
              </h2>
            </div>

            <div class="region-form__tendency">
              <!-- Tendency picker -->
              <div class="form-group">
                <label class="form-label">
                  {{ "bulletins.create.tooltip.tendency.danger" | translate }}
                </label>
                <div class="btn-group">
                  <button
                    *ngIf="activeBulletin.tendency === 'decreasing'"
                    [disabled]="isDisabled()"
                    type="reset"
                    class="btn btn-dark"
                    (click)="setTendency($event, undefined)"
                    data-toggle="tooltip"
                    title="{{ 'bulletins.create.tooltip.tendency.decreasing' | translate }}"
                  >
                    <i class="ph ph-arrow-down-right"></i>{{ "tendency.decreasing" | translate }}
                  </button>

                  <button
                    *ngIf="activeBulletin.tendency !== 'decreasing'"
                    [disabled]="isDisabled()"
                    type="reset"
                    class="btn btn-outline-secondary"
                    (click)="setTendency($event, 'decreasing')"
                    data-toggle="tooltip"
                    title="{{ 'bulletins.create.tooltip.tendency.decreasing' | translate }}"
                  >
                    <i class="ph ph-arrow-down-right"></i>{{ "tendency.decreasing" | translate }}
                  </button>

                  <button
                    *ngIf="activeBulletin.tendency === 'steady'"
                    [disabled]="isDisabled()"
                    type="reset"
                    class="btn btn-dark"
                    (click)="setTendency($event, undefined)"
                    data-toggle="tooltip"
                    title="{{ 'bulletins.create.tooltip.tendency.steady' | translate }}"
                  >
                    <i class="ph ph-equals"></i>{{ "tendency.steady" | translate }}
                  </button>

                  <button
                    *ngIf="activeBulletin.tendency !== 'steady'"
                    [disabled]="isDisabled()"
                    type="reset"
                    class="btn btn-outline-secondary"
                    (click)="setTendency($event, 'steady')"
                    data-toggle="tooltip"
                    title="{{ 'bulletins.create.tooltip.tendency.steady' | translate }}"
                  >
                    <i class="ph ph-equals"></i>{{ "tendency.steady" | translate }}
                  </button>
                  <button
                    *ngIf="activeBulletin.tendency === 'increasing'"
                    [disabled]="isDisabled()"
                    type="reset"
                    class="btn btn-dark"
                    (click)="setTendency($event, undefined)"
                    data-toggle="tooltip"
                    title="{{ 'bulletins.create.tooltip.tendency.increasing' | translate }}"
                  >
                    <i class="ph ph-arrow-up-right"></i>{{ "tendency.increasing" | translate }}
                  </button>
                  <button
                    *ngIf="activeBulletin.tendency !== 'increasing'"
                    [disabled]="isDisabled()"
                    type="reset"
                    class="btn btn-outline-secondary"
                    (click)="setTendency($event, 'increasing')"
                    data-toggle="tooltip"
                    title="{{ 'bulletins.create.tooltip.tendency.increasing' | translate }}"
                  >
                    <i class="ph ph-arrow-up-right"></i>{{ "tendency.increasing" | translate }}
                  </button>
                </div>
              </div>
              <!-- End of tendency picker -->

              <!-- Tendency comment -->
              <div class="form-group">
                <div class="row">
                  <div class="col-7">
                    <label class="form-label" for="text-input">
                      {{ "bulletins.create.label.tendencyComment" | translate }}
                    </label>
                    <div class="form-field-with-toolbar">
                      <!-- Toolbar -->
                      <div class="btn-group--border form-field-toolbar">
                        <button
                          class="btn btn-sm btn-icon btn-bare"
                          [disabled]="
                            isDisabled()
                          "
                          type="reset"
                          data-toggle="tooltip"
                          title="{{ 'bulletins.create.tooltip.textcat.edit' | translate }}"
                          (click)="
                            openTextcat(
                              $event,
                              'activeTendencyComment',
                              this.settingsService.getLangString(),
                              this.activeTendencyCommentTextcat
                            )
                          "
                        >
                          <i class="ph ph-book-bookmark"></i>
                        </button>
                        <button
                          class="btn btn-sm btn-icon btn-bare"
                          *ngIf="!copyService.isCopyTextcat()"
                          [disabled]="loading || editRegions"
                          type="reset"
                          data-toggle="tooltip"
                          title="{{ 'bulletins.create.tooltip.textcat.copy' | translate }}"
                          (click)="copyTextcat($event, 'tendencyComment')"
                        >
                          <i class="ph ph-copy"></i>
                        </button>
                        <button
                          class="btn btn-sm btn-icon btn-bare"
                          *ngIf="copyService.isCopyTextcat()"
                          [disabled]="
                            isDisabled()
                          "
                          type="reset"
                          data-toggle="tooltip"
                          title="{{ 'bulletins.create.tooltip.textcat.paste' | translate }}"
                          (click)="pasteTextcat($event, 'tendencyComment')"
                        >
                          <i class="ph ph-clipboard-text"></i>
                        </button>
                        <button
                          class="btn btn-sm btn-icon btn-bare"
                          [disabled]="
                            isDisabled()
                          "
                          type="reset"
                          data-toggle="tooltip"
                          title="{{ 'bulletins.create.tooltip.textcat.delete' | translate }}"
                          (click)="deleteTextcat($event, 'tendencyComment')"
                        >
                          <i class="ph ph-trash"></i>
                        </button>
                      </div>
                      <!-- End of toolbar -->
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'de'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeTendencyCommentDe | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'it'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeTendencyCommentIt | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'en'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeTendencyCommentEn | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'fr'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeTendencyCommentFr | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'es'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeTendencyCommentEs | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'ca'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeTendencyCommentCa | html"
                      ></textarea>
                      <textarea
                        *ngIf="this.settingsService.getLangString() === 'oc'"
                        id="textarea-input"
                        name="textarea-input"
                        rows="9"
                        class="form-control"
                        [disabled]="true"
                        [ngModel]="activeTendencyCommentOc | html"
                      ></textarea>
                    </div>
                  </div>
                  <div class="col-5">
                    <label class="form-label" for="text-input">
                      {{ "bulletins.create.label.notes" | translate }}
                    </label>
                    <textarea
                      rows="9"
                      class="form-control"
                      [disabled]="isDisabled()"
                      [(ngModel)]="activeTendencyCommentNotes"
                      placeholder="{{ 'bulletins.create.placeholder.notes' | translate }}"
                    ></textarea>
                  </div>
                </div>
              </div>
              <!-- End of tendency comment -->

              <!-- Translations -->
              <button
                class="btn btn-sm btn-bare region-form__translation-toggle"
                type="button"
                *ngIf="showTranslationsTendencyComment"
                (click)="setShowTranslations('tendencyComment')"
              >
                <i class="ph ph-caret-down"></i>
                <span>{{ "bulletins.create.title.hideTranslations" | translate }}</span>
              </button>
              <button
                class="btn btn-sm btn-bare region-form__translation-toggle"
                type="button"
                *ngIf="!showTranslationsTendencyComment"
                (click)="setShowTranslations('tendencyComment')"
              >
                <i class="ph ph-caret-right"></i>
                <span>{{ "bulletins.create.title.showTranslations" | translate }}</span>
              </button>

              <div *ngIf="showTranslationsTendencyComment" class="region-form__translation-block">
                <div
                  class="input-group region-form__translation-item"
                  *ngIf="this.settingsService.getLangString() !== 'de'"
                >
                  <span class="input-group-text">DE</span>
                  <textarea
                    id="textarea-input"
                    name="textarea-input"
                    rows="9"
                    class="form-control"
                    [disabled]="true"
                    [ngModel]="activeTendencyCommentDe | html"
                  ></textarea>
                </div>
                <div
                  class="input-group region-form__translation-item"
                  *ngIf="this.settingsService.getLangString() !== 'it'"
                >
                  <span class="input-group-text">IT</span>
                  <textarea
                    id="textarea-input"
                    name="textarea-input"
                    rows="9"
                    class="form-control"
                    [disabled]="true"
                    [ngModel]="activeTendencyCommentIt | html"
                  ></textarea>
                </div>
                <div
                  class="input-group region-form__translation-item"
                  *ngIf="this.settingsService.getLangString() !== 'en'"
                >
                  <span class="input-group-text">EN</span>
                  <textarea
                    id="textarea-input"
                    name="textarea-input"
                    rows="9"
                    class="form-control"
                    [disabled]="true"
                    [ngModel]="activeTendencyCommentEn | html"
                  ></textarea>
                </div>
                <div
                  class="input-group region-form__translation-item"
                  *ngIf="this.settingsService.getLangString() !== 'fr'"
                >
                  <span class="input-group-text">FR</span>
                  <textarea
                    id="textarea-input"
                    name="textarea-input"
                    rows="9"
                    class="form-control"
                    [disabled]="true"
                    [ngModel]="activeTendencyCommentFr | html"
                  ></textarea>
                </div>
                <div
                  class="input-group region-form__translation-item"
                  *ngIf="this.settingsService.getLangString() !== 'es'"
                >
                  <span class="input-group-text">ES</span>
                  <textarea
                    id="textarea-input"
                    name="textarea-input"
                    rows="9"
                    class="form-control"
                    [disabled]="true"
                    [ngModel]="activeTendencyCommentEs | html"
                  ></textarea>
                </div>
                <div
                  class="input-group region-form__translation-item"
                  *ngIf="this.settingsService.getLangString() !== 'ca'"
                >
                  <span class="input-group-text">CA</span>
                  <textarea
                    id="textarea-input"
                    name="textarea-input"
                    rows="9"
                    class="form-control"
                    [disabled]="true"
                    [ngModel]="activeTendencyCommentCa | html"
                  ></textarea>
                </div>
                <div
                  class="input-group region-form__translation-item"
                  *ngIf="this.settingsService.getLangString() !== 'oc'"
                >
                  <span class="input-group-text">OC</span>
                  <textarea
                    id="textarea-input"
                    name="textarea-input"
                    rows="9"
                    class="form-control"
                    [disabled]="true"
                    [ngModel]="activeTendencyCommentOc | html"
                  ></textarea>
                </div>
              </div>
              <!-- End of translations-->
            </div>
            <!-- End tendency-->
          </accordion-group>
          <!-- End tendency -->
        </accordion>
      </main>
      <!-- Save and cancel buttons (will be gone) -->
      <div *ngIf="bulletinsService.getIsEditable()" class="region-form__footer">
        <div class="region-form__saving-status">
          <i class="ph ph-circle-notch"></i>
          <span>{{ "bulletins.create.autosave" | translate }}</span>
        </div>
      </div>
      <!-- End Save and cancel buttons -->
    </div>
    <!-- End Form -->

    <!-- Map -->
    <div class="create-bulletin__map-container" [ngClass]="{ 'create-bulletin__map-container--am-pm': (activeBulletin !== undefined && activeBulletin.hasDaytimeDependency) }">
      <div class="floating-action create-region-floating-action" *ngIf="showNewBulletinModal && activeBulletin">
        <div class="floating-action__text">
          <i class="ph ph-map-trifold"></i> {{ "bulletins.create.mapSelectRegion" | translate }}
        </div>
        <div class="floating-action__actions btn-toolbar">
          <button type="reset" class="btn btn-bare" (click)="discardBulletin($event, activeBulletin)">
            <span>{{ "bulletins.create.tooltip.cancel" | translate }}</span>
          </button>
          <button type="button" class="btn btn-primary" (click)="saveBulletin($event, activeBulletin)">
            <i class="ph-bold ph-check"></i>
            <span *ngIf="activeBulletin.savedRegions.length == 0">{{ "bulletins.create.tooltip.createRegion" | translate }}</span>
            <span *ngIf="activeBulletin.savedRegions.length > 0">{{ 'bulletins.create.tooltip.saveChanges' | translate }}</span>
          </button>
        </div>
      </div>

      <div id="map" class="create-bulletin__map create-bulletin__map--am"></div>
      <div id="afternoonMap" class="create-bulletin__map create-bulletin__map--pm"></div>
    </div>
    <!-- End Map -->
  </div>
</div>

<!-- Display this template when there are no bulletins -->
<ng-template #noBulletinsTemplate>
  <div class="create-bulletin__nobulletins">
    <i class="ph ph-mountains"></i>
    <p>{{ "bulletins.create.noBulletinsForSelectedDay" | translate }}</p>
  </div>
</ng-template>

<ng-template #bulletinTemplate let-bulletin="bulletin">
  <div
    (click)="toggleBulletin(bulletin)"
    class="region-thumb"
    [ngClass]="{ 'region-thumb--active': bulletin === activeBulletin }"
  >
    <div class="region-thumb__details">
      <h6 class="region-thumb__title font-s-medium">
        {{ regionsService.getRegionName(bulletin.savedRegions[0]) }}
        <span *ngIf="bulletin.savedRegions.length > 1"> + {{ bulletin.savedRegions.length - 1 }} </span>
      </h6>
      <p class="region-thumb__author font-s text-secondary">{{ bulletin.getAuthor().getName() }}</p>

      <div class="region-thumb__avalanche-info">
        <app-danger-rating-icon [bulletin]="bulletin"></app-danger-rating-icon>

        <!-- Lawinenproblem(e) -->
        <app-avalanche-problem-icons *ngIf="bulletin?.forenoon?.avalancheProblem1" [avalancheProblem]="bulletin.forenoon.avalancheProblem1" [iconClass]="'region-thumb__avalanche-problem-icon'"></app-avalanche-problem-icons>
        <app-avalanche-problem-icons *ngIf="bulletin?.forenoon?.avalancheProblem2" [avalancheProblem]="bulletin.forenoon.avalancheProblem2" [iconClass]="'region-thumb__avalanche-problem-icon'"></app-avalanche-problem-icons>
        <app-avalanche-problem-icons *ngIf="bulletin?.forenoon?.avalancheProblem3" [avalancheProblem]="bulletin.forenoon.avalancheProblem3" [iconClass]="'region-thumb__avalanche-problem-icon'"></app-avalanche-problem-icons>
        <app-avalanche-problem-icons *ngIf="bulletin?.forenoon?.avalancheProblem4" [avalancheProblem]="bulletin.forenoon.avalancheProblem4" [iconClass]="'region-thumb__avalanche-problem-icon'"></app-avalanche-problem-icons>
        <app-avalanche-problem-icons *ngIf="bulletin?.forenoon?.avalancheProblem5" [avalancheProblem]="bulletin.forenoon.avalancheProblem5" [iconClass]="'region-thumb__avalanche-problem-icon'"></app-avalanche-problem-icons>
        <!-- Lawinenproblem(e) -->
        <!-- Seehhe(n) -->
        <span class="badge text-bg-light" *ngIf="bulletin.forenoon.hasElevationDependency">
          <i class="ph ph-arrows-out-line-vertical icon-sm"></i>
          {{
            bulletin.forenoon.treeline
              ? ("bulletins.create.tooltip.treeline" | translate)
              : bulletin.forenoon.elevation + " m"
          }}
        </span>

        <span
          class="badge text-bg-light"
          *ngIf="bulletin.hasDaytimeDependency && bulletin.afternoon.hasElevationDependency"
        >
          <i class="ph ph-arrows-out-line-vertical icon-sm"></i>
          {{
            bulletin.afternoon.treeline
              ? ("bulletins.create.tooltip.treeline" | translate)
              : bulletin.afternoon.elevation + " m"
          }}
        </span>
        <!-- Seehhe(n) -->

        <span *ngIf="hasSuggestions(bulletin)" class="badge bg-orange">
          <i class="ph-bold ph-lightbulb"></i> {{ "bulletins.create.suggestions" | translate }}
        </span>
      </div>
    </div>

    <div class="btn-group-vertical btn-group--border region-thumb__actions">
      <button
        *ngIf="!hasSuggestions(bulletin) && !copyService.isCopyBulletin()"
        [disabled]="loading"
        type="button"
        class="btn btn-sm btn-bare btn-sm btn-icon"
        (click)="openCopyRegionModal($event, copyRegionTemplate, bulletin)"
        data-toggle="tooltip"
        title="{{ 'bulletins.create.tooltip.copy' | translate }}"
      >
        <i class="ph ph-copy"></i>
      </button>

      <button
        *ngIf="bulletinsService.isLocked(bulletin?.getId()) || bulletinsService.getIsEditable() && !editRegions && !hasSuggestions(bulletin) && isCreator(bulletin)"
        [disabled]="loading"
        type="button"
        class="btn btn-sm btn-icon btn-bare"
        (click)="deleteBulletin($event, bulletin)"
        data-toggle="tooltip"
        title="{{ 'bulletins.create.tooltip.delete' | translate }}"
      >
        <i class="ph ph-trash"></i>
      </button>

      <button
        *ngIf="activeBulletin !== undefined && activeBulletin !== bulletin"
        type="button"
        class="btn btn-bare btn-sm btn-icon"
        (click)="compareBulletin($event, bulletin)"
      >
        <i class="ph ph-square-half"></i>
      </button>
    </div>
  </div>
</ng-template>

<ng-template #loadingErrorTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.create.loadingErrorDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="loadingErrorModalConfirm()">
      {{ "bulletins.create.loadingErrorDialog.accept" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #loadingJsonFileErrorTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.create.loadingJsonFileErrorDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="loadingJsonFileErrorModalConfirm()">
      {{ "bulletins.create.loadingJsonFileErrorDialog.accept" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #loadTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.create.loadDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="loadModalConfirm($event)">
      {{ "bulletins.create.loadDialog.accept" | translate }}
    </button>
    <button type="button" class="btn btn-default" (click)="loadModalDecline($event)">
      {{ "bulletins.create.loadDialog.reject" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #deleteAggregatedRegionTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.create.deleteAggregatedRegionDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="deleteAggregatedRegionModalConfirm()">
      {{ "bulletins.create.deleteAggregatedRegionDialog.accept" | translate }}
    </button>
    <button type="button" class="btn btn-default" (click)="deleteAggregatedRegionModalDecline()">
      {{ "bulletins.create.deleteAggregatedRegionDialog.reject" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #noRegionTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.create.noRegionDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="noRegionModalConfirm()">
      {{ "bulletins.create.noRegionDialog.accept" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #discardTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.create.discardDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="discardModalConfirm()">
      {{ "bulletins.create.discardDialog.accept" | translate }}
    </button>
    <button type="button" class="btn btn-default" (click)="discardModalDecline()">
      {{ "bulletins.create.discardDialog.reject" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #loadAutoSaveTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.create.loadAutoSaveDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button [disabled]="loadingModal" type="button" class="btn btn-bare" (click)="loadAutoSaveModalDecline($event)">
      {{ "bulletins.create.loadAutoSaveDialog.reject" | translate }}
    </button>

    <button [disabled]="loadingModal" type="button" class="btn btn-primary" (click)="loadAutoSaveModalConfirm($event)">
      <i class="ph ph-check"></i>
      <span>{{ "bulletins.create.loadAutoSaveDialog.accept" | translate }}</span>
    </button>
  </div>
</ng-template>

<ng-template #saveErrorTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.create.saveErrorDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="saveErrorModalConfirm()">
      {{ "bulletins.create.saveErrorDialog.accept" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #changeErrorTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.create.changeErrorDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="changeErrorModalConfirm()">
      {{ "bulletins.create.changeErrorDialog.accept" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #avalancheProblemErrorTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.create.avalancheProblemErrorDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="avalancheProblemErrorModalConfirm()">
      {{ "bulletins.create.avalancheProblemErrorDialog.accept" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #loadAvActivityCommentExampleTextTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.create.loadAvActivityCommentExampleTextDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button
      style="margin-bottom: 5px"
      type="button"
      class="btn btn-primary"
      (click)="loadAvActivityCommentExampleText('newSnow')"
    >
      {{ "bulletins.create.loadAvActivityCommentExampleTextDialog.newSnow" | translate }}
    </button>
    <button
      style="margin-bottom: 5px"
      type="button"
      class="btn btn-primary"
      (click)="loadAvActivityCommentExampleText('windSlab')"
    >
      {{ "bulletins.create.loadAvActivityCommentExampleTextDialog.windSlab" | translate }}
    </button>
    <button
      style="margin-bottom: 5px"
      type="button"
      class="btn btn-primary"
      (click)="loadAvActivityCommentExampleText('persistentWeakLayers')"
    >
      {{ "bulletins.create.loadAvActivityCommentExampleTextDialog.persistentWeakLayers" | translate }}
    </button>
    <button
      style="margin-bottom: 5px"
      type="button"
      class="btn btn-primary"
      (click)="loadAvActivityCommentExampleText('wetSnow')"
    >
      {{ "bulletins.create.loadAvActivityCommentExampleTextDialog.wetSnow" | translate }}
    </button>
    <button
      style="margin-bottom: 5px"
      type="button"
      class="btn btn-primary"
      (click)="loadAvActivityCommentExampleText('glidingSnow')"
    >
      {{ "bulletins.create.loadAvActivityCommentExampleTextDialog.glidingSnow" | translate }}
    </button>
    <button
      style="margin-bottom: 5px"
      type="button"
      class="btn btn-primary"
      (click)="loadAvActivityCommentExampleText('favourableSituation')"
    >
      {{ "bulletins.create.loadAvActivityCommentExampleTextDialog.favourableSituation" | translate }}
    </button>
    <button
      style="margin-bottom: 5px"
      type="button"
      class="btn btn-default"
      (click)="loadAvActivityCommentExampleTextCancel()"
    >
      {{ "bulletins.create.loadAvActivityCommentExampleTextDialog.cancel" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #loadSnowpackStructureCommentExampleTextTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.create.loadAvActivityCommentExampleTextDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button
      style="margin-bottom: 5px"
      type="button"
      class="btn btn-primary"
      (click)="loadSnowpackStructureCommentExampleText('newSnow')"
    >
      {{ "bulletins.create.loadAvActivityCommentExampleTextDialog.newSnow" | translate }}
    </button>
    <button
      style="margin-bottom: 5px"
      type="button"
      class="btn btn-primary"
      (click)="loadSnowpackStructureCommentExampleText('windSlab')"
    >
      {{ "bulletins.create.loadAvActivityCommentExampleTextDialog.windSlab" | translate }}
    </button>
    <button
      style="margin-bottom: 5px"
      type="button"
      class="btn btn-primary"
      (click)="loadSnowpackStructureCommentExampleText('persistentWeakLayers')"
    >
      {{ "bulletins.create.loadAvActivityCommentExampleTextDialog.persistentWeakLayers" | translate }}
    </button>
    <button
      style="margin-bottom: 5px"
      type="button"
      class="btn btn-primary"
      (click)="loadSnowpackStructureCommentExampleText('wetSnow')"
    >
      {{ "bulletins.create.loadAvActivityCommentExampleTextDialog.wetSnow" | translate }}
    </button>
    <button
      style="margin-bottom: 5px"
      type="button"
      class="btn btn-primary"
      (click)="loadSnowpackStructureCommentExampleText('glidingSnow')"
    >
      {{ "bulletins.create.loadAvActivityCommentExampleTextDialog.glidingSnow" | translate }}
    </button>
    <button
      style="margin-bottom: 5px"
      type="button"
      class="btn btn-primary"
      (click)="loadSnowpackStructureCommentExampleText('favourableSituation')"
    >
      {{ "bulletins.create.loadAvActivityCommentExampleTextDialog.favourableSituation" | translate }}
    </button>
    <button
      style="margin-bottom: 5px"
      type="button"
      class="btn btn-default"
      (click)="loadSnowpackStructureCommentExampleTextCancel()"
    >
      {{ "bulletins.create.loadAvActivityCommentExampleTextDialog.cancel" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #copyRegionTemplate let-bulletin="bulletin">
  <div class="modal-header">
    <h4 class="modal-title pull-left">{{ "bulletins.create.copyRegion.label" | translate }} {{ bulletin }}</h4>
  </div>
  <div class="modal-body">
    {{ "bulletins.create.copyRegion.select" | translate }}

    <select [(ngModel)]="selectedCopyRegionDate">
      <option *ngFor="let date of bulletinsService.dates" [value]="date">{{ date | localizedDate : "EEEE, d. MMMM y"  }}</option>
    </select>

  </div>
  <div class="modal-footer">
    <button type="reset" class="btn btn-bare" (click)="copyRegionModalDecline()">
      <span>{{ "bulletins.create.cancelCopyBulletin" | translate }}</span>
    </button>

    <button type="button" class="btn btn-primary" (click)="copyRegionModalConfirm()">
      <i class="ph ph-copy-simple"></i><span>{{ "bulletins.create.pasteAggregatedRegion" | translate }}</span>
    </button>
  </div>
</ng-template>

<ng-template #submitBulletinsDuplicateRegionTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.table.submitBulletinsDuplicateRegionDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="submitBulletinsDuplicateRegionModalConfirm()">
      {{ "bulletins.table.submitBulletinsDuplicateRegionDialog.accept" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #checkBulletinsErrorTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.table.checkBulletinsErrorDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="checkBulletinsErrorModalConfirm()">
      {{ "bulletins.table.checkBulletinsErrorDialog.accept" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #submitBulletinsErrorTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.table.submitBulletinsErrorDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="submitBulletinsErrorModalConfirm()">
      {{ "bulletins.table.submitBulletinsErrorDialog.accept" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #publishBulletinsErrorTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.table.publishBulletinsErrorDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="publishBulletinsErrorModalConfirm()">
      {{ "bulletins.table.publishBulletinsErrorDialog.accept" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #previewErrorTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.table.previewErrorDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="previewErrorModalConfirm()">
      {{ "bulletins.table.previewErrorDialog.accept" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #checkBulletinsErrorTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.table.checkBulletinsErrorDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="checkBulletinsErrorModalConfirm()">
      {{ "bulletins.table.checkBulletinsErrorDialog.accept" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #publishAllTemplate>
  <div class="modal-body text-center">
    <p>{{ "bulletins.table.publishAllDialog.message" | translate }}</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="checkBulletinsErrorModalConfirm()">
      {{ "bulletins.table.checkBulletinsErrorDialog.accept" | translate }}
    </button>
  </div>
</ng-template>
