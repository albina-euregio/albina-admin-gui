<input
  style="width: 100%"
  class="form-control"
  type="text"
  [placeholder]="'lineaexport.searchfieldplaceholder' | translate"
  (input)="onSearch($event)"
  [value]="searchTerm"
  (keydown.enter)="onSearchFieldEnter()"
/>
@if (filteredStations.length === 1) {
  <div class="hint">{{ "lineaexport.hint" | translate }} {{ filteredStations[0].name }}</div>
}
<div class="stations">
  @if (searchTerm !== "") {
    @for (station of filteredStations; track station.id) {
      <button
        class="btn btn-outline-primary btn-sm"
        [class.selected]="selectedIds.includes(station.id)"
        (click)="toggleStation(station.id)"
      >
        {{ station.name }} ({{ station.id }})
      </button>
    }
  }
</div>
<div height="300px" style="height: 300px; width: 100%; margin-top: 0px">
  <div class="station-map" id="stationsMap" #stationsMap></div>
</div>

<!-- Selected station chips -->
<div class="selected-stations">
  @for (id of selectedIds; track id) {
    <div class="station-chip">
      {{ id }}
      <button (click)="removeStation(id)">Ã—</button>
    </div>
  }
</div>

<linea-plot
  [attr.src]="srcs"
  [attr.lazysrc]="lazysrcs"
  showsurfaceHoarseries
  showtitle
  showexport
  showinteractiveblogexport
  showdatepicker
>
</linea-plot>
